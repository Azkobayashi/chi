<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For Someone Special</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap');

    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #fdf2f5 0%, #fae8f0 100%);
      min-height: 100vh;
      overflow-x: hidden;
    }
    .hero-text {
      font-family: 'Playfair Display', serif;
      text-shadow: 0 2px 4px rgba(0,0,0,0.08);
    }
    .envelope {
      transition: transform 0.8s ease-in-out;
      transform-style: preserve-3d;
    }
    .letter {
      transition: opacity 0.6s 0.3s, max-height 0.6s 0.3s ease-in-out;
      max-height: 0;
      overflow: hidden;
      opacity: 0;
    }
    .heart-path {
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: draw 3s ease-in-out forwards;
    }
    @keyframes draw {
      to { stroke-dashoffset: 0; }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    .floating-heart {
      animation: float 6s ease-in-out infinite;
      position: absolute;
      opacity: 0.5;
      font-size: 20px;
      color: #f472b6;
      pointer-events: none;
    }
    /* Hidden until reveal */
    #question-btn {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease;
    }
    #question-btn.show {
      opacity: 1;
      pointer-events: auto;
    }
  </style>
</head>
<body class="flex items-center justify-center p-4">

  <!-- Audio -->
  <audio id="bg-music" loop hidden>
    <source src="b1.mp3" type="audio/mpeg">
  </audio>

  <div class="max-w-2xl w-full relative">
    <!-- Envelope -->
    <div class="envelope bg-white rounded-lg shadow-xl overflow-hidden">
      <div class="p-8 text-center">
        <div class="mx-auto w-24 h-24 mb-6">
          <svg viewBox="0 0 24 24" fill="none">
            <path class="heart-path" d="M12 21.35L10.55 20.03C5.4 
            15.36 2 12.28 2 8.5C2 5.42 4.42 
            3 7.5 3C9.24 3 10.91 3.81 12 
            5.09C13.09 3.81 14.76 3 16.5 
            3C19.58 3 22 5.42 22 8.5C22 
            12.28 18.6 15.36 13.45 
            20.03L12 21.35Z" stroke="#ef4444" 
            stroke-width="2" fill="none"/>
          </svg>
        </div>
        <h1 class="hero-text text-3xl md:text-4xl font-bold text-rose-600 mb-2">Chiyoo</h1>
        <button id="open-btn" class="px-6 py-2 bg-rose-500 text-white rounded-full hover:bg-rose-600 transition-colors">Open</button>
      </div>

      <!-- Letter -->
      <div class="letter px-8 pb-8">
        <div class="border-t-2 border-rose-100 pt-8">
          <div class="flex justify-end mb-4">
            <span class="text-sm text-gray-400">Zie</span>
          </div>
          <div class="space-y-6 text-gray-700">
            <p id="p1"></p>
            <p id="p2"></p>
            <p id="p3"></p>
            <div class="text-center mt-8">
              <button id="question-btn" class="px-8 py-3 bg-gradient-to-r from-rose-500 to-pink-500 text-white rounded-full hover:shadow-lg transition-all transform hover:scale-105">
                so I have to ask...
              </button>
            </div>
          </div>
        </div>
      </div>
    </div
    <!-- Yes Image -->
    <div id="yes-image" class="hidden absolute inset-0 bg-white rounded-lg shadow-xl p-8 flex flex-col items-center justify-center">
      <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=800&q=80" class="rounded-lg mb-4"/>
      <p class="text-lg text-rose-600">thank you for saying yes… I promise to make you feel loved every single day."
</p>
    </div>

    <!-- No Image -->
    <div id="no-image" class="hidden absolute inset-0 bg-white rounded-lg shadow-xl p-8 flex flex-col items-center justify-center">
      <img src="https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?auto=format&fit=crop&w=800&q=80" class="rounded-lg mb-4"/>
      <p class="text-lg text-gray-600">hmph!</p>
    </div>

    <!-- Question -->
    <div id="question-card" class="absolute inset-0 bg-white rounded-lg shadow-xl p-8 flex flex-col items-center justify-center hidden scale-95 opacity-0 transition-all duration-500">
      <div class="text-center max-w-md">
        <h2 class="hero-text text-3xl font-bold text-rose-600 mb-6">Chii, pwede ba kitang ligawan?</h2>
        <div class="flex justify-center gap-4 mt-8">
          <button id="yes-btn" class="px-6 py-2 bg-rose-500 text-white rounded-full hover:bg-rose-600 transition-colors">yes!</button>
          <button id="no-btn" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300 transition-colors">???</button>
        </div>
      </div>
    </div>

    <!-- Floating Hearts -->
    <div id="hearts-container" class="absolute inset-0 pointer-events-none overflow-hidden"></div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const envelope = document.querySelector('.envelope');
  const openBtn = document.getElementById('open-btn');
  const music = document.getElementById('bg-music');
  const questionBtn = document.getElementById('question-btn');
  const p1 = "alam kong malayo tayo sa isa’t isa at alam mo na rin yung nararamdaman ko… pero gusto kong ipakita na seryoso ako. hindi ito bara-bara lang gusto talaga kita.";
  const p2 = "sa bawat araw na nagkakausap tayo unti-unti kitang nakilala at sa bawat kilig, kwento at tawa mo… mas lalo kitang hinangaan. wala man ako riyan sa tabi mo gusto ko sanang ipakita na seryoso ako sa’yo, sa paraan na kaya ko ngayon.";
  const p3 = "hindi ko dala ang script ng love story pero baka puwede tayong magsulat ng sarili nating kwento at sana magsimula ‘to ngayon... sa isang simpleng tanong:";

  function fadeInMusic(audio) {
    audio.volume = 0;
    audio.play();
    let vol = 0;
    const fade = setInterval(() => {
      if (vol < 0.3) {
        vol += 0.01;
        audio.volume = vol;
      } else clearInterval(fade);
    }, 50);
  }

  function typeWriter(element, text, speed = 10, callback) {
    let i = 0;
    function typing() {
      if (i < text.length) {
        element.innerHTML += text.charAt(i);
        i++;
        setTimeout(typing, speed);
      } else if (callback) {
        callback();
      }
    }
    typing();
  }

  function createHearts(count = 3) {
    const heartsContainer = document.getElementById('hearts-container');
    for (let i = 0; i < count; i++) {
      const heart = document.createElement('div');
      heart.className = 'floating-heart';
      heart.innerHTML = '❤️';
      heart.style.left = `${Math.random() * 100}%`;
      heart.style.top = `${Math.random() * 100}%`;
      heart.style.fontSize = `${16 + Math.random() * 16}px`;
      heartsContainer.appendChild(heart);
      setTimeout(() => heart.remove(), 6000);
    }
  }
  setInterval(() => createHearts(), 2000);

  // Open envelope
  openBtn.addEventListener('click', () => {
    envelope.style.transform = 'rotateX(15deg) translateY(-20px)';
    fadeInMusic(music);
    setTimeout(() => {
      const letter = envelope.querySelector('.letter');
      letter.style.maxHeight = '1000px';
      letter.style.opacity = '1';
      typeWriter(document.getElementById('p1'), p1, 25, () => {
        typeWriter(document.getElementById('p2'), p2, 25, () => {
          typeWriter(document.getElementById('p3'), p3, 25, () => {
            // Show "So I have to ask" button after all text
            questionBtn.classList.add('show');
          });
        });
      });
    }, 500);
    createHearts(10);
  });

  // Question & answers
  const questionCard = document.getElementById('question-card');
  const yesBtn = document.getElementById('yes-btn');
  const noBtn = document.getElementById('no-btn');

  questionBtn.addEventListener('click', () => {
    questionCard.classList.remove('hidden');
    setTimeout(() => {
      questionCard.classList.remove('scale-95');
      questionCard.classList.remove('opacity-0');
    }, 10);
    createHearts(30);
  });

  yesBtn.addEventListener('click', () => {
    questionCard.classList.add('hidden');
    document.getElementById('yes-image').classList.remove('hidden');
    confetti({ particleCount: 150, spread: 90, origin: { y: 0.6 } });
  });

  noBtn.addEventListener('click', () => {
    questionCard.classList.add('hidden');
    document.getElementById('no-image').classList.remove('hidden');
  });
});
</script>

</body>
</html>
